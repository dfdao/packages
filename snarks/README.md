# @dfdao/snarks

This package contains `.wasm` compiled SNARK circuits and `.zkey`
proving/verifier keys for the Dark Forest SNARKs. It also contains typescript
types for inputs and outputs to the SnarkJS functions we use to calculate
Dark Forest SNARK proofs, as well as conversion methods that convert between
SnarkJS outputs and Dark Forest contract call args.

## Installation

You can install this package using [`npm`](https://www.npmjs.com) or
[`yarn`](https://classic.yarnpkg.com/lang/en/) by running:

```bash
npm install --save @dfdao/snarks
```
```bash
yarn add @dfdao/snarks
```

When using this in a plugin, you might want to load it with [skypack](https://www.skypack.dev)

```js
import * as snarks from 'http://cdn.skypack.dev/@dfdao/snarks'
```

## Table of contents

### Interfaces

- [BiomebaseSnarkInput](undefined)
- [InitSnarkInput](undefined)
- [MoveSnarkInput](undefined)
- [RevealSnarkInput](undefined)
- [SnarkJSProof](undefined)
- [SnarkJSProofAndSignals](undefined)
- [WhitelistSnarkInput](undefined)

### Type aliases

- [BiomebaseSnarkContractCallArgs](undefined)
- [ContractCallArgs](undefined)
- [InitSnarkContractCallArgs](undefined)
- [MoveSnarkContractCallArgs](undefined)
- [RevealSnarkContractCallArgs](undefined)
- [WhitelistSnarkContractCallArgs](undefined)

### Functions

- [buildContractCallArgs](undefined)

## Interfaces

### BiomebaseSnarkInput

• **BiomebaseSnarkInput**: Interface BiomebaseSnarkInput

Shape of a javascript object that must be passed into snarkJS `fullProve`
proof generation function for `biomebase` circuit

___

### InitSnarkInput

• **InitSnarkInput**: Interface InitSnarkInput

Shape of a javascript object that must be passed into snarkJS `fullProve`
proof generation function for `init` circuit

___

### MoveSnarkInput

• **MoveSnarkInput**: Interface MoveSnarkInput

Shape of a javascript object that must be passed into snarkJS `fullProve`
proof generation function for `move` circuit

___

### RevealSnarkInput

• **RevealSnarkInput**: Interface RevealSnarkInput

Shape of a javascript object that must be passed into snarkJS `fullProve`
proof generation function for `reveal` circuit

___

### SnarkJSProof

• **SnarkJSProof**: Interface SnarkJSProof

A zkSNARK proof (without signals) generated by snarkJS `fullProve`

___

### SnarkJSProofAndSignals

• **SnarkJSProofAndSignals**: Interface SnarkJSProofAndSignals

A zkSNARK proof and corresponding public signals generated by snarkJS
`fullProve`

___

### WhitelistSnarkInput

• **WhitelistSnarkInput**: Interface WhitelistSnarkInput

Shape of a javascript object that must be passed into snarkJS `fullProve`
proof generation function for `whitelist` circuit

## Type aliases

### BiomebaseSnarkContractCallArgs

Ƭ **BiomebaseSnarkContractCallArgs**: [[string, string], [[string, string], [string, string]], [string, string], [string, string, string, string, string, string, string]]

Shape of the args for `findArtifact` DarkForest contract call.

___

### ContractCallArgs

Ƭ **ContractCallArgs**: RevealSnarkContractCallArgs \| InitSnarkContractCallArgs \| MoveSnarkContractCallArgs \| BiomebaseSnarkContractCallArgs \| WhitelistSnarkContractCallArgs

Type representing the shape of args that are passed into DarkForest
functions that require zkSNARK verification.

___

### InitSnarkContractCallArgs

Ƭ **InitSnarkContractCallArgs**: [[string, string], [[string, string], [string, string]], [string, string], [string, string, string, string, string, string, string, string]]

Shape of the args for the `initializePlayer` DarkForest contract call

___

### MoveSnarkContractCallArgs

Ƭ **MoveSnarkContractCallArgs**: [[string, string], [[string, string], [string, string]], [string, string], [string, string, string, string, string, string, string, string, string, string]]

(Almost) shape of the args for `move` DarkForest contract call.
The fourth array element additionally needs shipsMoved, silverMoved, and
artifactIdMoved before it can be passed as args to `move`, but those values
are not part of the zkSNARK.

___

### RevealSnarkContractCallArgs

Ƭ **RevealSnarkContractCallArgs**: [[string, string], [[string, string], [string, string]], [string, string], [string, string, string, string, string, string, string, string, string]]

Shape of the args for `revealLocation` DarkForest contract call

___

### WhitelistSnarkContractCallArgs

Ƭ **WhitelistSnarkContractCallArgs**: [[string, string], [[string, string], [string, string]], [string, string], [string, string]]

Shape of the args for `whitelistRegister` DarkForest contract call.

## Functions

### buildContractCallArgs

▸ **buildContractCallArgs**(`snarkProof`, `publicSignals`): ContractCallArgs

Method for converting the output of snarkJS `fullProve` into args that can be
passed into DarkForest smart contract functions which perform zk proof
verification.

#### Parameters

| Name | Type | Description |
| :------ | :------ | :------ |
| `snarkProof` | SnarkJSProof | the SNARK proof |
| `publicSignals` | string[] | the circuit's public signals (i.e. output signals and public input signals) |

#### Returns

ContractCallArgs
